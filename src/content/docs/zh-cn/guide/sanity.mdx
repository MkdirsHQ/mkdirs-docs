---
title: 如何使用 Sanity CMS
description: 如何自定义 Sanity 模式和 GROQ 查询。
---

import { Aside } from '@astrojs/starlight/components';

## 更新 Sanity Schema

Sanity Schema 文件位于 `src/sanity/schemas/documents` 文件夹中，您可以更改 Schema 为您的 Schema，或添加新 Schema，然后将新 Schema 添加到 `src/sanity/schemas/index.ts` 文件中。

更新 Sanity Schema 后，您需要运行以下命令来生成类型：

```bash
pnpm typegen
```

<Aside type="note">
    `typegen` 命令将生成 Sanity Schema 的类型，类型将位于 `sanity.types.ts` 文件中，因此不要直接编辑 `sanity.types.ts` 文件。
</Aside>


## 更新 GROQ 查询

GROQ 查询语句位于 `src/sanity/lib/queries.ts` 文件中，您可以更改 GROQ 查询语句为您的查询语句，或添加新查询语句到文件中。

更新 GROQ 查询语句后，您需要运行以下命令来生成类型：

```bash
pnpm typegen
```

<Aside type="note">
    `typegen` 命令将生成 GROQ 查询语句的类型，类型将位于 `sanity.types.ts` 文件中，因此不要直接编辑 `sanity.types.ts` 文件。
</Aside>

## 配置 Sanity Studio

Sanity Studio 的配置位于 `sanity.config.ts` 文件中，您可以自定义 Sanity Studio 以满足您的需求。

例如，您可以找到一个新的 [Sanity 插件](https://www.sanity.io/plugins) 并将其添加到 Sanity Studio 中。

您还可以更改默认布局结构，根据 [Sanity Structure Builder](https://www.sanity.io/docs/structure-builder-introduction)。


## 延伸阅读

- [Sanity](https://www.sanity.io/)
- [Sanity Content Lake](https://www.sanity.io/docs/datastore)
- [Sanity Studio](https://www.sanity.io/docs/sanity-studio)
- [Sanity Plugins](https://www.sanity.io/plugins)
- [Sanity CLI](https://www.sanity.io/docs/cli-reference)
- [Sanity Structure Builder](https://www.sanity.io/docs/structure-builder-introduction)
- [Sanity Courses](https://www.sanity.io/learn)
- [Course: Day one with Sanity](https://www.sanity.io/learn/course/day-one-with-sanity-studio)
- [Course: Sanity Typed content with Sanity TypeGen](https://www.sanity.io/learn/course/typescripted-content)
- [Cheatsheet: GROQ](https://www.sanity.io/docs/query-cheat-sheet)
- [Cheatsheet: Migrating content](https://www.sanity.io/docs/content-migration-cheatsheet)
- [Sanity docs for Localization](https://www.sanity.io/docs/localization)
- [Sanity docs for Block Content](https://www.sanity.io/docs/block-content)
