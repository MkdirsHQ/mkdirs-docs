---
title: Sanity
description: How to configure the Sanity.
---

import { Aside } from '@astrojs/starlight/components';
import { Steps } from '@astrojs/starlight/components';

Mkdirs uses [Sanity](https://www.sanity.io/) as a headless CMS, so you can manage the content of the website (including user data, items data, blog posts data, images, etc.) through Sanity Studio, and you don't need to configure the database or the storage anymore.

## Configuration

<Steps>

1. Create an account on [Sanity](https://www.sanity.io/)

    If don't have an account on Sanity, follow their steps to [signup](https://www.sanity.io/login/sign-up).

2. Create a new project

    After signin on Sanity, you can create your project [here](https://www.sanity.io/manage?new-project).

3. Get the project id

    After creating the project, you will see the project id under the project name.

    ```bash
    # .env
    # [required]
    NEXT_PUBLIC_SANITY_PROJECT_ID=your_project_id
    ```

4. Get the dataset

    The default dataset is `production`, and you can use the default dataset or create a new one.

    ```bash
    # .env
    # [required]
    NEXT_PUBLIC_SANITY_DATASET=your_dataset
    ```

5. Get the API token

    Go to the project API settings, click on the `Add API token` button, create a new token with **the permissions of `Editor`**, and set it to the `.env` file.

    ```bash
    # .env
    # [required]
    SANITY_API_TOKEN=your_api_token
    ```

6. Configure the CORS origins

    Go to the project API settings, click on the `Add CORS origin` button, add the origin of your domain (e.g. **`https://your-domain.com`**) or **`http://localhost:3000`** for local development.

    It's used to allow you to access the Sanity Studio under the `/studio` path, for example, `https://your-domain.com/studio` or `http://localhost:3000/studio`.

    <Aside type="caution">
        Make sure you add the origin of your domain to the CORS origins, otherwise you will not be able to access the Sanity Studio.
    </Aside>

    ![Sanity CORS](../../../assets/images/sanity-cors.png)

</Steps>

## Video tutorial

{/* https://www.youtube.com/embed/8THGP7Wpkic?list=PLVBbrIi208W_qLhMoEV8-XQi7lrTyPlOM */}
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
    src="https://www.youtube.com/embed/8THGP7Wpkic?list=PLVBbrIi208W_qLhMoEV8-XQi7lrTyPlOM" 
    title="【Deploy】【2/8】Environment variables for Sanity —— Launch a directory with Mkdirs template" 
    frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
    referrerpolicy="strict-origin-when-cross-origin" 
    allowfullscreen
  ></iframe>
</div>

## Further Reading

- [Sanity](https://www.sanity.io/)
- [Sanity Content Lake](https://www.sanity.io/docs/datastore)
- [Sanity Studio](https://www.sanity.io/docs/sanity-studio)
- [Sanity Plugins](https://www.sanity.io/plugins)
- [Sanity CLI](https://www.sanity.io/docs/cli-reference)
- [Sanity Courses](https://www.sanity.io/learn)
- [Course: Day one with Sanity](https://www.sanity.io/learn/course/day-one-with-sanity-studio)
- [Course: Sanity Typed content with Sanity TypeGen](https://www.sanity.io/learn/course/typescripted-content)
- [Cheatsheet: GROQ](https://www.sanity.io/docs/query-cheat-sheet)
- [Cheatsheet: Migrating content](https://www.sanity.io/docs/content-migration-cheatsheet)
- [Sanity docs for Localization](https://www.sanity.io/docs/localization)
- [Sanity docs for Block Content](https://www.sanity.io/docs/block-content)
